var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const o=e(require("../ssl_request")),t=e(require("cli-table")),r=e(require("moment")),s=e(require("../config"));exports.default={add:function(e,t,l,n){const u="rest/api/latest/issue/"+e+"/worklog",a=r.default(n).format("YYYY-MM-DD[T]HH:mm:ss.SSSZZ");o.default.post(s.default.auth.url+u).send({comment:l,timeSpent:t,started:a}).end(((o,t)=>t.ok?console.log("Worklog to issue ["+e+"] was added!."):console.log((t.body.errorMessages||[t.error]).join("\n"))))},show:function(e){const r="rest/api/latest/issue/"+e+"/worklog";o.default.get(s.default.auth.url+r).end(((e,o)=>{if(!o.ok)return console.log(o.body.errorMessages.join("\n"));if(0===o.body.total)return void console.log("No work yet logged");const r=new t.default({head:["Date","Author","Time Spent","Comment"]}),s=o.body.worklogs;for(let e=0;e<s.length;e++){const o=s[e].created,t=s[e].author.displayName,l=s[e].timeSpent;let n=s[e].comment||"";n.length>50&&(n=n.substr(0,47)+"..."),r.push([o,t,l,n])}console.log(r.toString())}))}};